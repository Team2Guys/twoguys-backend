// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model categories {
  id                Int             @id @default(autoincrement())
  name              String          @unique
  description       String?
  createdAt         DateTime?       @default(now())
  updatedAt         DateTime?       @updatedAt
  posterImageUrl    Json
  last_editedBy     String?
  short_description String?
  custom_url        String
  Banners           Json?
  BannerText        String?
  BannerHeading     String?
  RecallUrl         String?
  breadCrum         String?
  subCategories     subCategories[] @relation()
  products          Products[]      @relation()

  // ToHeading
  topHeading          String?
  topDescription      String?
  // HeroText
  categoryHeroImages  Json[]  @default([])
  categoryHeroToptext String?
  categoryHeroHeading String?
  categoryHeroText    Json[]  @default([])
  categoryFaqs        Json[]  @default([])

  // heroBottom  
  leftHeading  String?
  categoryText Json[]  @default([])

  // flooring                   
  Heading String?
  paras   Json[]  @default([])

  // Instalation
  bodyHeading     String?
  bodyMainHeading String?
  bodyText        String?

  // Banner
  Bannerdiscount     String?
  salesBannerHeading String?
  paraText           String?
  Bannercounter      DateTime?
  salesBannerImage   Json?

  // on Procuts Main Heading
  Product_Section_heading String?
  bottomText              String?

  // explor flooring Options
  explore_Heading      String?
  explore_main_heading String?
  explore_description  String?

  Canonical_Tag    String?
  Meta_Description String?
  Meta_Title       String?

  // category SCHEMA
  seoSchema         String?
  EcomereceProducts EcomereceProducts[] @relation()
}

model subCategories {
  id                Int         @id @default(autoincrement())
  name              String //✅
  description       String? //✅
  createdAt         DateTime?   @default(now())
  updatedAt         DateTime?   @updatedAt //✅
  posterImageUrl    Json?
  last_editedBy     String?
  short_description String?
  custom_url        String //✅
  categoryId        Int?
  category          categories? @relation(fields: [categoryId], references: [id], onDelete: SetNull)
  products          Products[]  @relation()
  breadCrum         String?

  // BannersData
  Banners       Json? //✅
  BannerText    String? //✅
  BannerHeading String? //✅

  // Serivce Section(Blinds)  
  leftHeading  String? //curtains   Soft Velvet Finish //✅ 
  categoryText Json[]  @default([]) //Soft velvet Fisish //✅

  // After hero Sectons (blinds, Curtains)
  categoryHeroImages  Json[]  @default([]) //shutters ✅
  categoryHeroToptext String? //shutters Wallpaper++ ✅
  categoryHeroHeading String? //shutters Wallpaper soft velvet finish ✅
  categoryHeroText    Json[]  @default([]) //shutters
  categoryFaqs        Json[]  @default([]) //shutters

  // Collecton (Shutters)
  collectionHeading     String? //Wallpaper  ++  ✅
  collectionMainHeading String? //Wallpaper++  ✅

  // hightestQuelity Sectons (Blinds, Curtains)

  QualityHeadings Json[] @default([]) // shutters soft velvet finish ✅
  QualityText     Json[] @default([]) //soft velvet finish ✅
  QualityImages   Json[] @default([]) //✅

  // Custome Made louved
  CustomHeading Json[] @default([]) // shutters ✅
  CustomText    Json[] @default([]) //✅

  // on Procuts Main Heading (shutters)
  Product_Section_heading String? // //✅
  bottomText              String? ////✅

  // Instalation
  bodyHeading     String? ////✅
  bodyMainHeading String? //v//✅
  bodyText        String? ////✅

  // Professional services
  explore_Heading          String? // ✅
  explore_main_heading     String? // ✅
  explore_description      String? //✅
  professionalServiceImage Json? //

  // seo
  Canonical_Tag    String?
  Meta_Description String?
  Meta_Title       String?

  // schema
  seoSchema          String?
  InnersubCategories InnersubCategories[]
  EcomereceProducts  EcomereceProducts[]
}

model Products {
  id               Int       @id @default(autoincrement())
  name             String ////✅
  price            Int //✅
  description      String //✅
  stock            Int //✅
  discountPrice    Int? //✅
  posterImageUrl   Json //✅
  hoverImageUrl    Json? //✅
  productImages    Json[] //✅
  createdAt        DateTime? @default(now()) //✅
  updatedAt        DateTime? @default(now()) //✅
  Canonical_Tag    String? //✅
  Meta_Description String? //✅
  Meta_Title       String? //✅
  last_editedBy    String?
  custom_url       String //✅
  breadCrum        String?

  // BannersData
  Banners       Json? //✅
  BannerText    String? //✅
  BannerHeading String? //✅

  // After hero Sectons (/3d)
  categoryHeroImages  Json[]  @default([]) //3d ✅
  categoryHeroToptext String? // ✅
  categoryHeroHeading String? // ✅
  categoryHeroText    Json[]  @default([]) //✅
  categoryFaqs        Json[]  @default([]) // ✅

  // leftside
  right_side_Heading String?
  left_side_Text     Json[]  @default([]) // ✅
  left_side_image    Json? // ✅

  // Before Products Heading and text (3d)                  
  Product_Section_heading String? //  ✅
  bottomText              String? // ✅

  // Capabilities Section 
  explore_Heading          String? // ✅
  explore_main_heading     String? // ✅
  explore_description      String? //✅
  professionalServiceImage Json? //
  categoryId               Int?
  subCategoryId            Int?
  innersubCategoryId       Int?
  category                 categories?         @relation(fields: [categoryId], references: [id], onDelete: SetNull)
  subcategory              subCategories?      @relation(fields: [subCategoryId], references: [id], onDelete: SetNull)
  Innersubcategory         InnersubCategories? @relation(fields: [innersubCategoryId], references: [id], onDelete: SetNull)

  // product schema
  seoSchema String?
}

model Admins {
  id                     Int       @id @default(autoincrement())
  fullname               String
  email                  String    @unique
  password               String
  canAddProduct          Boolean   @default(false)
  canEditProduct         Boolean   @default(false)
  canDeleteProduct       Boolean   @default(false)
  canAddCategory         Boolean   @default(false)
  canDeleteCategory      Boolean   @default(false)
  canEditCategory        Boolean   @default(false)
  canCheckProfit         Boolean   @default(false)
  canCheckRevenue        Boolean   @default(false)
  canCheckVisitors       Boolean   @default(false)
  canViewUsers           Boolean   @default(false)
  canViewSales           Boolean   @default(false)
  canVeiwAdmins          Boolean   @default(false)
  canVeiwTotalproducts   Boolean   @default(false)
  canVeiwTotalCategories Boolean   @default(false)
  posterImageUrl         Json?
  role                   String    @default("Admin")
  createdAt              DateTime? @default(now())
  updatedAt              DateTime? @updatedAt
  last_editedBy          String?
}

model Reviews {
  id                 Int       @id @default(autoincrement())
  posterImageUrl     Json?
  name               String
  starRating         Int?
  ReviewsDescription String
  reviewDate         String?
  createdAt          DateTime? @default(now())
  updatedAt          DateTime?
}

model SocialLinks {
  id             Int       @id @default(autoincrement())
  posterImageUrl Json
  post_links     String
  createdAt      DateTime? @default(now())
  updatedAt      DateTime?
}

model Appointments {
  id            Int       @id @default(autoincrement())
  name          String
  phoneNumber   String
  whatsApp      String?
  location      String
  email         String
  subCategories Json[]    @default([])
  message       String
  createdAt     DateTime? @default(now())
  updatedAt     DateTime?
}

model Redirecturls {
  id            Int       @id @default(autoincrement())
  url           String    @unique()
  redirectedUrl String
  createdAt     DateTime? @default(now())
  updatedAt     DateTime?
}

model InnersubCategories {
  id            Int            @id @default(autoincrement())
  name          String
  custom_url    String
  subCategoryId Int?
  subCategory   subCategories? @relation(fields: [subCategoryId], references: [id], onDelete: SetNull)
  createdAt     DateTime?      @default(now())
  updatedAt     DateTime?
  last_editedBy String?
  products      Products[]     @relation()
}

model EcomereceProducts {
  id                    Int                @id @default(autoincrement())
  name                  String
  price                 Int
  description           String
  stock                 Int
  discountPrice         Int?
  short_description     String?
  posterImageUrl        Json
  hoverImageUrl         Json?
  productImages         Json[]
  createdAt             DateTime?          @default(now())
  updatedAt             DateTime?          @default(now())
  last_editedBy         String?
  custom_url            String
  breadCrum             String
  Banners               Json?
  DescriptionBullets    Json[]             @default([])
  Additionalinformation Json[]             @default([])
  Questions             Json[]             @default([])
  materialType          Json[]             @default([])
  colors                Json[]             @default([])
  sizes                 Json[]             @default([])
  variant               Json[]             @default([])
  Canonical_Tag         String?
  Meta_Description      String?
  Meta_Title            String?
  categoryId            Int?
  subCategoryId         Int?
  category              categories?        @relation(fields: [categoryId], references: [id], onDelete: SetNull)
  subcategory           subCategories?     @relation(fields: [subCategoryId], references: [id], onDelete: SetNull)
  // product schema
  seoSchema             String?
  reviews               ProductReviews[]   @relation()
  questions             ProductQuestions[] @relation()
}

model User {
  id           Int     @id @default(autoincrement())
  name         String
  email        String  @unique
  password     String
  phone        String?
  userImageUrl Json?
}

enum CommentStatus {
  PENDING
  APPROVED
  REJECTED
}

model ProductReviews {
  id                  Int                @id @default(autoincrement())
  posterImageUrl      Json?
  name                String
  starRating          Int?
  ReviewsDescription  String
  reviewDate          String?
  createdAt           DateTime?          @default(now())
  updatedAt           DateTime?
  productsImage       Json[]             @default([])
  productId           Int?
  status              CommentStatus      @default(PENDING)
  EcomereceProducts   EcomereceProducts? @relation(fields: [ecomereceProductsId], references: [id])
  ecomereceProductsId Int?
}

model ProductQuestions {
  id                  Int                @id @default(autoincrement())
  name                String
  email               String
  question            String
  createdAt           DateTime?          @default(now())
  updatedAt           DateTime?
  productId           Int?
  status              CommentStatus      @default(PENDING)
  replies             Json[]             @default([])
  EcomereceProducts   EcomereceProducts? @relation(fields: [ecomereceProductsId], references: [id])
  ecomereceProductsId Int?
}

enum BlogStatus {
  DRAFT
  PUBLISHED
  ARCHIVED
}

model blogs {
  id               Int              @id @default(autoincrement())
  title            String
  content          String
  category         String
  createdAt        DateTime?        @default(now())
  updatedAt        DateTime?
  posterImage      Json?
  comments         blogs_comments[] @relation("BlogComments")
  last_editedBy    String?
  Canonical_Tag    String?
  Meta_Description String?
  Meta_Title       String?
  isPublished      Boolean          @default(false)
  redirectionUrl   String?          @default("")
  publishedAt      DateTime?
  status           BlogStatus       @default(PUBLISHED)
  custom_url       String
}

model blogs_comments {
  id            Int           @id @default(autoincrement())
  name          String
  Email         String
  description   String
  createdAt     DateTime      @default(now())
  replies       Json[]
  blogId        Int
  blog          blogs         @relation("BlogComments", fields: [blogId], references: [id])
  status        CommentStatus @default(PENDING)
  last_editedBy String?
}

model salesProducts {
  id              Int       @id @default(autoincrement())
  firstName       String
  lastName        String
  email           String
  phone           String
  city            String
  emirate         String?
  country         String
  address         String?
  orderId         String    @unique
  checkout        Boolean   @default(false)
  paymentStatus   Boolean   @default(false)
  isRefund        Boolean   @default(false)
  currency        String?
  transactionId   String?
  integrationId   String?
  amountCents     String?
  success         Boolean   @default(false)
  pending         Boolean   @default(false)
  is3DSecure      String?
  checkoutDate    DateTime  @default(now())
  transactionDate DateTime?
  shipmentFee     Int?
  deliveryStatus  Boolean   @default(false)
  cardLastDigits  String?
  products        Json[]    @default([])
  note            String?

  totalPrice         Int
  pay_methodType     String?
  paymethod_sub_type String?
  shippingMethod     Json?
  otherCity          String?
  isfreesample       Boolean?
}
